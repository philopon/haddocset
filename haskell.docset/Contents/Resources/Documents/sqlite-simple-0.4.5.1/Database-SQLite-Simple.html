<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></meta><title>Database.SQLite.Simple</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean"></link><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Database-SQLite-Simple.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="../sqlite-simple-0.4.5.1/index.html">Contents</a></li><li><a href="../sqlite-simple-0.4.5.1/doc-index.html">Index</a></li></ul><p class="caption">sqlite-simple-0.4.5.1: Mid-Level SQLite client library</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Portability</th><td>portable</td></tr><tr><th>Maintainer</th><td>Janne Hellsten &lt;jjhellst@gmail.com&gt;</td></tr><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Database.SQLite.Simple</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="../sqlite-simple-0.4.5.1/#g:1">Examples of use
</a></li><li><a href="../sqlite-simple-0.4.5.1/#g:2">The Query type
</a></li><li><a href="../sqlite-simple-0.4.5.1/#g:3">Parameter substitution
</a><ul><li><a href="../sqlite-simple-0.4.5.1/#g:4">Type inference
</a></li></ul></li><li><a href="../sqlite-simple-0.4.5.1/#g:5">Substituting a single parameter
</a></li><li><a href="../sqlite-simple-0.4.5.1/#g:6">Extracting results
</a><ul><li><a href="../sqlite-simple-0.4.5.1/#g:7">Handling null values
</a></li><li><a href="../sqlite-simple-0.4.5.1/#g:8">Type conversions
</a><ul><li><a href="../sqlite-simple-0.4.5.1/#g:9">Conversion to/from UTCTime
</a></li></ul></li></ul></li><li><a href="../sqlite-simple-0.4.5.1/#g:10">Connections
</a></li><li><a href="../sqlite-simple-0.4.5.1/#g:11">Queries that return results
</a></li><li><a href="../sqlite-simple-0.4.5.1/#g:12">Queries that stream results
</a></li><li><a href="../sqlite-simple-0.4.5.1/#g:13">Statements that do not return results
</a></li><li><a href="../sqlite-simple-0.4.5.1/#g:14">Low-level statement API for stream access and prepared statements
</a><ul><li><a href="../sqlite-simple-0.4.5.1/#g:15">Exceptions
</a></li></ul></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc empty"> </div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">newtype</span>  <a href="../sqlite-simple-0.4.5.1/#t:Query">Query</a>  = <a href="../sqlite-simple-0.4.5.1/#v:Query">Query</a> {<ul class="subs"><li><a href="../sqlite-simple-0.4.5.1/#v:fromQuery">fromQuery</a> :: <a href="../text-1.1.0.0/Data-Text-Internal.html#t:Text">Text</a></li></ul>}</li><li class="src short"><span class="keyword">newtype</span>  <a href="../sqlite-simple-0.4.5.1/#t:Connection">Connection</a>  = <a href="../sqlite-simple-0.4.5.1/#v:Connection">Connection</a> {<ul class="subs"><li><a href="../sqlite-simple-0.4.5.1/#v:connectionHandle">connectionHandle</a> :: <a href="../direct-sqlite-2.3.11/Database-SQLite3-Direct.html#t:Database">Database</a></li></ul>}</li><li class="src short"><span class="keyword">class</span>  <a href="../sqlite-simple-0.4.5.1/#t:ToRow">ToRow</a> a  <span class="keyword">where</span><ul class="subs"><li><a href="../sqlite-simple-0.4.5.1/#v:toRow">toRow</a> :: a -&gt; [<a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:SQLData">SQLData</a>]</li></ul></li><li class="src short"><span class="keyword">class</span>  <a href="../sqlite-simple-0.4.5.1/#t:FromRow">FromRow</a> a  <span class="keyword">where</span><ul class="subs"><li><a href="../sqlite-simple-0.4.5.1/#v:fromRow">fromRow</a> :: <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-Internal.html#t:RowParser">RowParser</a> a</li></ul></li><li class="src short"><span class="keyword">newtype</span>  <a href="../sqlite-simple-0.4.5.1/#t:Only">Only</a> a = <a href="../sqlite-simple-0.4.5.1/#v:Only">Only</a> {<ul class="subs"><li><a href="../sqlite-simple-0.4.5.1/#v:fromOnly">fromOnly</a> :: a</li></ul>}</li><li class="src short"><span class="keyword">data</span>  h <a href="../sqlite-simple-0.4.5.1/#t::.">:.</a> t = h <a href="../sqlite-simple-0.4.5.1/#v::.">:.</a> t</li><li class="src short"><span class="keyword">data</span>  <a href="../sqlite-simple-0.4.5.1/#t:SQLData">SQLData</a> <ul class="subs"><li>= <a href="../sqlite-simple-0.4.5.1/#v:SQLInteger">SQLInteger</a> !<a href="../base-4.6.0.1/Data-Int.html#t:Int64">Int64</a>  </li><li>| <a href="../sqlite-simple-0.4.5.1/#v:SQLFloat">SQLFloat</a> !<a href="../base-4.6.0.1/Prelude.html#t:Double">Double</a>  </li><li>| <a href="../sqlite-simple-0.4.5.1/#v:SQLText">SQLText</a> !<a href="../text-1.1.0.0/Data-Text-Internal.html#t:Text">Text</a>  </li><li>| <a href="../sqlite-simple-0.4.5.1/#v:SQLBlob">SQLBlob</a> !<a href="../bytestring-0.10.0.2/Data-ByteString.html#t:ByteString">ByteString</a>  </li><li>| <a href="../sqlite-simple-0.4.5.1/#v:SQLNull">SQLNull</a>  </li></ul></li><li class="src short"><span class="keyword">data</span>  <a href="../sqlite-simple-0.4.5.1/#t:Statement">Statement</a> </li><li class="src short"><span class="keyword">newtype</span>  <a href="../sqlite-simple-0.4.5.1/#t:ColumnIndex">ColumnIndex</a>  = <a href="../sqlite-simple-0.4.5.1/#v:ColumnIndex">ColumnIndex</a> <a href="../direct-sqlite-2.3.11/Database-SQLite3-Bindings-Types.html#t:ColumnIndex">ColumnIndex</a></li><li class="src short"><a href="../sqlite-simple-0.4.5.1/#v:open">open</a> :: <a href="../base-4.6.0.1/Data-String.html#t:String">String</a> -&gt; <a href="../base-4.6.0.1/System-IO.html#t:IO">IO</a> <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Connection">Connection</a></li><li class="src short"><a href="../sqlite-simple-0.4.5.1/#v:close">close</a> :: <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Connection">Connection</a> -&gt; <a href="../base-4.6.0.1/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="../sqlite-simple-0.4.5.1/#v:withConnection">withConnection</a> ::  <a href="../base-4.6.0.1/Data-String.html#t:String">String</a> -&gt; (<a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Connection">Connection</a> -&gt; <a href="../base-4.6.0.1/System-IO.html#t:IO">IO</a> a) -&gt; <a href="../base-4.6.0.1/System-IO.html#t:IO">IO</a> a</li><li class="src short"><a href="../sqlite-simple-0.4.5.1/#v:setTrace">setTrace</a> :: <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Connection">Connection</a> -&gt; <a href="../base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="../text-1.1.0.0/Data-Text-Internal.html#t:Text">Text</a> -&gt; <a href="../base-4.6.0.1/System-IO.html#t:IO">IO</a> ()) -&gt; <a href="../base-4.6.0.1/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="../sqlite-simple-0.4.5.1/#v:query">query</a> :: (<a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:ToRow">ToRow</a> q, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:FromRow">FromRow</a> r) =&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Connection">Connection</a> -&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Query">Query</a> -&gt; q -&gt; <a href="../base-4.6.0.1/System-IO.html#t:IO">IO</a> [r]</li><li class="src short"><a href="../sqlite-simple-0.4.5.1/#v:query_">query_</a> :: <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:FromRow">FromRow</a> r =&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Connection">Connection</a> -&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Query">Query</a> -&gt; <a href="../base-4.6.0.1/System-IO.html#t:IO">IO</a> [r]</li><li class="src short"><a href="../sqlite-simple-0.4.5.1/#v:lastInsertRowId">lastInsertRowId</a> :: <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Connection">Connection</a> -&gt; <a href="../base-4.6.0.1/System-IO.html#t:IO">IO</a> <a href="../base-4.6.0.1/Data-Int.html#t:Int64">Int64</a></li><li class="src short"><a href="../sqlite-simple-0.4.5.1/#v:fold">fold</a> :: (<a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:FromRow">FromRow</a> row, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:ToRow">ToRow</a> params) =&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Connection">Connection</a> -&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Query">Query</a> -&gt; params -&gt; a -&gt; (a -&gt; row -&gt; <a href="../base-4.6.0.1/System-IO.html#t:IO">IO</a> a) -&gt; <a href="../base-4.6.0.1/System-IO.html#t:IO">IO</a> a</li><li class="src short"><a href="../sqlite-simple-0.4.5.1/#v:fold_">fold_</a> :: <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:FromRow">FromRow</a> row =&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Connection">Connection</a> -&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Query">Query</a> -&gt; a -&gt; (a -&gt; row -&gt; <a href="../base-4.6.0.1/System-IO.html#t:IO">IO</a> a) -&gt; <a href="../base-4.6.0.1/System-IO.html#t:IO">IO</a> a</li><li class="src short"><a href="../sqlite-simple-0.4.5.1/#v:execute">execute</a> :: <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:ToRow">ToRow</a> q =&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Connection">Connection</a> -&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Query">Query</a> -&gt; q -&gt; <a href="../base-4.6.0.1/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="../sqlite-simple-0.4.5.1/#v:execute_">execute_</a> :: <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Connection">Connection</a> -&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Query">Query</a> -&gt; <a href="../base-4.6.0.1/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="../sqlite-simple-0.4.5.1/#v:field">field</a> :: <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> a =&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-Internal.html#t:RowParser">RowParser</a> a</li><li class="src short"><a href="../sqlite-simple-0.4.5.1/#v:openStatement">openStatement</a> :: <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Connection">Connection</a> -&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Query">Query</a> -&gt; <a href="../base-4.6.0.1/System-IO.html#t:IO">IO</a> <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Statement">Statement</a></li><li class="src short"><a href="../sqlite-simple-0.4.5.1/#v:closeStatement">closeStatement</a> :: <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Statement">Statement</a> -&gt; <a href="../base-4.6.0.1/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="../sqlite-simple-0.4.5.1/#v:withStatement">withStatement</a> ::  <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Connection">Connection</a> -&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Query">Query</a> -&gt; (<a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Statement">Statement</a> -&gt; <a href="../base-4.6.0.1/System-IO.html#t:IO">IO</a> a) -&gt; <a href="../base-4.6.0.1/System-IO.html#t:IO">IO</a> a</li><li class="src short"><a href="../sqlite-simple-0.4.5.1/#v:bind">bind</a> :: <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:ToRow">ToRow</a> params =&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Statement">Statement</a> -&gt; params -&gt; <a href="../base-4.6.0.1/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="../sqlite-simple-0.4.5.1/#v:reset">reset</a> :: <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Statement">Statement</a> -&gt; <a href="../base-4.6.0.1/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="../sqlite-simple-0.4.5.1/#v:columnName">columnName</a> :: <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Statement">Statement</a> -&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:ColumnIndex">ColumnIndex</a> -&gt; <a href="../base-4.6.0.1/System-IO.html#t:IO">IO</a> <a href="../text-1.1.0.0/Data-Text-Internal.html#t:Text">Text</a></li><li class="src short"><a href="../sqlite-simple-0.4.5.1/#v:withBind">withBind</a> :: <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:ToRow">ToRow</a> params =&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Statement">Statement</a> -&gt; params -&gt; <a href="../base-4.6.0.1/System-IO.html#t:IO">IO</a> a -&gt; <a href="../base-4.6.0.1/System-IO.html#t:IO">IO</a> a</li><li class="src short"><a href="../sqlite-simple-0.4.5.1/#v:nextRow">nextRow</a> :: <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:FromRow">FromRow</a> r =&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Statement">Statement</a> -&gt; <a href="../base-4.6.0.1/System-IO.html#t:IO">IO</a> (<a href="../base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> r)</li><li class="src short"><span class="keyword">data</span>  <a href="../sqlite-simple-0.4.5.1/#t:FormatError">FormatError</a> </li><li class="src short"><span class="keyword">data</span>  <a href="../sqlite-simple-0.4.5.1/#t:ResultError">ResultError</a> </li></ul></div><div id="interface"><h2 id="g:1">Examples of use
</h2><div class="doc"><p>Create a test database by copy pasting the below snippet to your
 shell:
</p><pre>
 sqlite3 test.db &quot;CREATE TABLE test (id INTEGER PRIMARY KEY, str text); \
 INSERT INTO test (str) VALUES ('test string');&quot;
</pre><p>..and access it from Haskell:
</p><pre> {-# LANGUAGE OverloadedStrings #-}

 import Control.Applicative
 import Database.SQLite.Simple
 import Database.SQLite.Simple.FromRow

 data TestField = TestField Int String deriving (Show)

 instance FromRow TestField where
   fromRow = TestField &lt;$&gt; field &lt;*&gt; field

 main :: IO ()
 main = do
   conn &lt;- open &quot;test.db&quot;
   execute conn &quot;INSERT INTO test (str) VALUES (?)&quot; (Only (&quot;test string 2&quot; :: String))
   r &lt;- query_ conn &quot;SELECT * from test&quot; :: IO [TestField]
   mapM_ print r
   close conn
</pre></div><h2 id="g:2">The Query type
</h2><div class="doc"><p>SQL-based applications are somewhat notorious for their
 susceptibility to attacks through the injection of maliciously
 crafted data. The primary reason for widespread vulnerability to
 SQL injections is that many applications are sloppy in handling
 user data when constructing SQL queries.
</p><p>This library provides a <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Query">Query</a></code> type and a parameter substitution
 facility to address both ease of use and security.  A <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Query">Query</a></code> is a
 <code>newtype</code>-wrapped <code>Text</code>. It intentionally exposes a tiny API that
 is not compatible with the <code>Text</code> API; this makes it difficult to
 construct queries from fragments of strings.  The <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#v:query">query</a></code> and
 <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#v:execute">execute</a></code> functions require queries to be of type <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Query">Query</a></code>.
</p><p>To most easily construct a query, enable GHC's <code>OverloadedStrings</code>
 language extension and write your query as a normal literal string.
</p><pre> {-# LANGUAGE OverloadedStrings #-}

 import Database.SQLite.Simple

 hello = do
   conn &lt;- open &quot;test.db&quot;
   query conn &quot;select 2 + 2&quot;
</pre><p>A <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Query">Query</a></code> value does not represent the actual query that will be
 executed, but is a template for constructing the final query.
</p></div><h2 id="g:3">Parameter substitution
</h2><div class="doc"><p>Since applications need to be able to construct queries with
 parameters that change, this library uses SQLite's parameter
 binding query substitution capability.
</p><p>The <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Query">Query</a></code> template accepted by <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#v:query">query</a></code> and <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#v:execute">execute</a></code> can contain
 any number of &quot;<code>?</code>&quot; characters.  Both <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#v:query">query</a></code> and <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#v:execute">execute</a></code>
 accept a third argument, typically a tuple. When constructing the
 real query to execute, these functions replace the first &quot;<code>?</code>&quot; in
 the template with the first element of the tuple, the second
 &quot;<code>?</code>&quot; with the second element, and so on. If necessary, each
 tuple element will be quoted and escaped prior to substitution;
 this defeats the single most common injection vector for malicious
 data.
</p><p>For example, given the following <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Query">Query</a></code> template:
</p><pre> select * from user where first_name = ? and age &gt; ?
</pre><p>And a tuple of this form:
</p><pre> (&quot;Boris&quot; :: String, 37 :: Int)
</pre><p>The query to be executed will look like this after substitution:
</p><pre> select * from user where first_name = 'Boris' and age &gt; 37
</pre><p>If there is a mismatch between the number of &quot;<code>?</code>&quot; characters in
 your template and the number of elements in your tuple, a
 <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:FormatError">FormatError</a></code> will be thrown.
</p><p>Note that the substitution functions do not attempt to parse or
 validate your query. It's up to you to write syntactically valid
 SQL, and to ensure that each &quot;<code>?</code>&quot; in your query template is
 matched with the right tuple element.
</p><p>This library restricts parameter substitution to work only with
 &quot;<code>?</code>&quot; characters.  SQLite natively supports several other
 syntaxes for binding query parameters.  Unsupported parameters will
 be rejected and a <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:FormatError">FormatError</a></code> will be thrown.
</p></div><h3 id="g:4">Type inference
</h3><div class="doc"><p>Automated type inference means that you will often be able to avoid
 supplying explicit type signatures for the elements of a tuple.
 However, sometimes the compiler will not be able to infer your
 types. Consider a case where you write a numeric literal in a
 parameter tuple:
</p><pre> query conn &quot;select ? + ?&quot; (40,2)
</pre><p>The above query will be rejected by the compiler, because it does
 not know the specific numeric types of the literals <code>40</code> and <code>2</code>.
 This is easily fixed:
</p><pre> query conn &quot;select ? + ?&quot; (40 :: Double, 2 :: Double)
</pre><p>The same kind of problem can arise with string literals if you have
 the <code>OverloadedStrings</code> language extension enabled.  Again, just
 use an explicit type signature if this happens.
</p></div><h2 id="g:5">Substituting a single parameter
</h2><div class="doc"><p>Haskell lacks a single-element tuple type, so if you have just one
 value you want substituted into a query, what should you do?
</p><p>To represent a single value <code>val</code> as a parameter, write a singleton
 list <code>[val]</code>, use <code><a href="../base-4.6.0.1/Data-Maybe.html#v:Just">Just</a></code> <code>val</code>, or use <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Only">Only</a></code> <code>val</code>.
</p><p>Here's an example using a singleton list:
</p><pre> execute conn &quot;insert into users (first_name) values (?)&quot;
              [&quot;Nuala&quot;]
</pre></div><h1 id="g:6">Extracting results
</h1><div class="doc"><p>The <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#v:query">query</a></code> and <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#v:query_">query_</a></code> functions return a list of values in the
 <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:FromRow">FromRow</a></code> typeclass. This class performs automatic extraction
 and type conversion of rows from a query result.
</p><p>Here is a simple example of how to extract results:
</p><pre> import qualified Data.Text as T

 xs &lt;- query_ conn &quot;select name,age from users&quot;
 forM_ xs $ \(name,age) -&gt;
   putStrLn $ T.unpack name ++ &quot; is &quot; ++ show (age :: Int)
</pre><p>Notice two important details about this code:
</p><ul><li> The number of columns we ask for in the query template must
   exactly match the number of elements we specify in a row of the
   result tuple.  If they do not match, a <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:ResultError">ResultError</a></code> exception
   will be thrown.
</li><li> Sometimes, the compiler needs our help in specifying types. It
   can infer that <code>name</code> must be a <code>Text</code>, due to our use of the
   <code>unpack</code> function. However, we have to tell it the type of <code>age</code>,
   as it has no other information to determine the exact type.
</li></ul></div><h2 id="g:7">Handling null values
</h2><div class="doc"><p>The type of a result tuple will look something like this:
</p><pre> (Text, Int, Int)
</pre><p>Although SQL can accommodate <code>NULL</code> as a value for any of these
 types, Haskell cannot. If your result contains columns that may be
 <code>NULL</code>, be sure that you use <code><a href="../base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a></code> in those positions of of your
 tuple.
</p><pre> (Text, Maybe Int, Int)
</pre><p>If <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#v:query">query</a></code> encounters a <code>NULL</code> in a row where the corresponding
 Haskell type is not <code><a href="../base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a></code>, it will throw a <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:ResultError">ResultError</a></code>
 exception.
</p></div><h2 id="g:8">Type conversions
</h2><div class="doc"><p>Conversion of SQL values to Haskell values is somewhat
 permissive. Here are the rules.
</p><ul><li> For numeric types, any Haskell type that can accurately represent
   an SQLite INTEGER is considered &quot;compatible&quot;.
</li><li> If a numeric incompatibility is found, <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#v:query">query</a></code> will throw a
   <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:ResultError">ResultError</a></code>.
</li><li> SQLite's TEXT type is always encoded in UTF-8.  Thus any text
   data coming from an SQLite database should always be compatible
   with Haskell <code><a href="../base-4.6.0.1/Data-String.html#t:String">String</a></code> and <code>Text</code> types.
</li><li> SQLite's BLOB type will only be conversible to a Haskell
   <code>ByteString</code>.
</li></ul><p>You can extend conversion support to your own types be adding your
 own <code>FromField</code> / <code>ToField</code> instances.
</p></div><h3 id="g:9">Conversion to/from UTCTime
</h3><div class="doc"><p>SQLite's datetime allows for multiple string representations of UTC
 time.  The following formats are supported for reading SQLite times
 into Haskell UTCTime values:
</p><ul><li> YYYY-MM-DD HH:MM
</li><li> YYYY-MM-DD HH:MM:SS
</li><li> YYYY-MM-DD HH:MM:SS.SSS
</li><li> YYYY-MM-DDTHH:MM
</li><li> YYYY-MM-DDTHH:MM:SS
</li><li> YYYY-MM-DDTHH:MM:SS.SSS
</li></ul><p>The above may also be optionally followed by a timezone indicator
 of the form &quot;[+-]HH:MM&quot; or just &quot;Z&quot;.
</p><p>When Haskell UTCTime values are converted into SQLite values (e.g.,
 parameters for a <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#v:query">query</a></code>), the following format is used:
</p><ul><li> YYYY-MM-DD HH:MM:SS.SSS
</li></ul><p>The last &quot;.SSS&quot; subsecond part is dropped if it's zero.  No
 timezone indicator is used when converting from a UTCTime value
 into an SQLite string.  SQLite assumes all datetimes are in UTC
 time.
</p><p>The parser and printers are implemented in <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-Time.html">Database.SQLite.Simple.Time</a>.
</p><p>Read more about SQLite's time strings in <a href="http://sqlite.org/lang_datefunc.html">http://sqlite.org/lang_datefunc.html</a>
</p></div><div class="top"><p class="src"><span class="keyword">newtype</span>  <a name="t:Query" class="def">Query</a>  </p><div class="doc"><p>A query string. This type is intended to make it difficult to
 construct a SQL query by concatenating string fragments, as that is
 an extremely common way to accidentally introduce SQL injection
 vulnerabilities into an application.
</p><p>This type is an instance of <code><a href="../base-4.6.0.1/Data-String.html#t:IsString">IsString</a></code>, so the easiest way to
 construct a query is to enable the <code>OverloadedStrings</code> language
 extension and then simply write the query in double quotes.
</p><pre> {-# LANGUAGE OverloadedStrings #-}

 import Database.SQLite.Simple

 q :: Query
 q = &quot;select ?&quot;
</pre><p>The underlying type is a <code>Text</code>, and literal Haskell strings that
 contain Unicode characters will be correctly transformed to UTF-8.
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Query" class="def">Query</a></td><td class="doc empty"> </td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:fromQuery" class="def">fromQuery</a> :: <a href="../text-1.1.0.0/Data-Text-Internal.html#t:Text">Text</a></dt><dd class="doc empty"> </dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:Query" class="caption collapser" onclick="toggleSection('i:Query')">Instances</p><div id="section.i:Query" class="show"><table><tr><td class="src"><a href="../base-4.6.0.1/Data-Eq.html#t:Eq">Eq</a> <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Query">Query</a></td><td class="doc empty"> </td></tr><tr><td class="src"><a href="../base-4.6.0.1/Data-Ord.html#t:Ord">Ord</a> <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Query">Query</a></td><td class="doc empty"> </td></tr><tr><td class="src"><a href="../base-4.6.0.1/Text-Read.html#t:Read">Read</a> <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Query">Query</a></td><td class="doc empty"> </td></tr><tr><td class="src"><a href="../base-4.6.0.1/Text-Show.html#t:Show">Show</a> <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Query">Query</a></td><td class="doc empty"> </td></tr><tr><td class="src"><a href="../base-4.6.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Query">Query</a></td><td class="doc empty"> </td></tr><tr><td class="src"><a href="../base-4.6.0.1/Data-String.html#t:IsString">IsString</a> <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Query">Query</a></td><td class="doc empty"> </td></tr><tr><td class="src"><a href="../base-4.6.0.1/Data-Monoid.html#t:Monoid">Monoid</a> <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Query">Query</a></td><td class="doc empty"> </td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">newtype</span>  <a name="t:Connection" class="def">Connection</a>  </p><div class="doc"><p>Connection to an open database.
</p><p>You can use <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#v:connectionHandle">connectionHandle</a></code> to gain access to the underlying
 <a href="http://hackage.haskell.org/package/direct-sqlite">http://hackage.haskell.org/package/direct-sqlite</a> connection.
 This may be useful if you need to access some direct-sqlite
 functionality that's not exposed in the sqlite-simple API.  This
 should be a safe thing to do although mixing both APIs is
 discouraged.
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Connection" class="def">Connection</a></td><td class="doc empty"> </td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:connectionHandle" class="def">connectionHandle</a> :: <a href="../direct-sqlite-2.3.11/Database-SQLite3-Direct.html#t:Database">Database</a></dt><dd class="doc empty"> </dd></dl><div class="clear"></div></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">class</span>  <a name="t:ToRow" class="def">ToRow</a> a  <span class="keyword">where</span></p><div class="doc"><p>A collection type that can be turned into a list of SQLData
 elements.
</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:toRow" class="def">toRow</a> :: a -&gt; [<a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:SQLData">SQLData</a>]</p><div class="doc"><p>ToField a collection of values.
</p></div></div><div class="subs instances"><p id="control.i:ToRow" class="caption collapser" onclick="toggleSection('i:ToRow')">Instances</p><div id="section.i:ToRow" class="show"><table><tr><td class="src"><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:ToRow">ToRow</a> ()</td><td class="doc empty"> </td></tr><tr><td class="src"><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> a =&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:ToRow">ToRow</a> [a]</td><td class="doc empty"> </td></tr><tr><td class="src"><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> a =&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:ToRow">ToRow</a> (<a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Only">Only</a> a)</td><td class="doc empty"> </td></tr><tr><td class="src">(<a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> a, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> b) =&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:ToRow">ToRow</a> (a, b)</td><td class="doc empty"> </td></tr><tr><td class="src">(<a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:ToRow">ToRow</a> a, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:ToRow">ToRow</a> b) =&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:ToRow">ToRow</a> (<a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t::.">:.</a> a b)</td><td class="doc empty"> </td></tr><tr><td class="src">(<a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> a, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> b, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> c) =&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:ToRow">ToRow</a> (a, b, c)</td><td class="doc empty"> </td></tr><tr><td class="src">(<a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> a, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> b, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> c, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> d) =&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:ToRow">ToRow</a> (a, b, c, d)</td><td class="doc empty"> </td></tr><tr><td class="src">(<a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> a, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> b, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> c, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> d, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> e) =&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:ToRow">ToRow</a> (a, b, c, d, e)</td><td class="doc empty"> </td></tr><tr><td class="src">(<a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> a, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> b, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> c, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> d, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> e, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> f) =&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:ToRow">ToRow</a> (a, b, c, d, e, f)</td><td class="doc empty"> </td></tr><tr><td class="src">(<a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> a, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> b, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> c, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> d, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> e, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> f, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> g) =&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:ToRow">ToRow</a> (a, b, c, d, e, f, g)</td><td class="doc empty"> </td></tr><tr><td class="src">(<a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> a, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> b, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> c, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> d, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> e, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> f, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> g, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> h) =&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:ToRow">ToRow</a> (a, b, c, d, e, f, g, h)</td><td class="doc empty"> </td></tr><tr><td class="src">(<a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> a, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> b, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> c, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> d, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> e, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> f, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> g, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> h, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> i) =&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:ToRow">ToRow</a> (a, b, c, d, e, f, g, h, i)</td><td class="doc empty"> </td></tr><tr><td class="src">(<a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> a, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> b, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> c, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> d, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> e, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> f, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> g, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> h, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> i, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> j) =&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:ToRow">ToRow</a> (a, b, c, d, e, f, g, h, i, j)</td><td class="doc empty"> </td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span>  <a name="t:FromRow" class="def">FromRow</a> a  <span class="keyword">where</span></p><div class="doc"><p>A collection type that can be converted from a sequence of fields.
 Instances are provided for tuples up to 10 elements and lists of any length.
</p><p>Note that instances can defined outside of sqlite-simple,  which is
 often useful.   For example, here's an instance for a user-defined pair:
</p><pre>data User = User { name :: String, fileQuota :: Int }

instance <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:FromRow">FromRow</a></code> User where
     fromRow = User &lt;$&gt; <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#v:field">field</a></code> &lt;*&gt; <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#v:field">field</a></code>
</pre><p>The number of calls to <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#v:field">field</a></code> must match the number of fields returned
 in a single row of the query result.  Otherwise,  a <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#v:ConversionFailed">ConversionFailed</a></code>
 exception will be thrown.
</p><p>Note the caveats associated with user-defined implementations of
 <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#v:fromRow">fromRow</a></code>.
</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:fromRow" class="def">fromRow</a> :: <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-Internal.html#t:RowParser">RowParser</a> a</p></div><div class="subs instances"><p id="control.i:FromRow" class="caption collapser" onclick="toggleSection('i:FromRow')">Instances</p><div id="section.i:FromRow" class="show"><table><tr><td class="src"><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> a =&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:FromRow">FromRow</a> [a]</td><td class="doc empty"> </td></tr><tr><td class="src"><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> a =&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:FromRow">FromRow</a> (<a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Only">Only</a> a)</td><td class="doc empty"> </td></tr><tr><td class="src">(<a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> a, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> b) =&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:FromRow">FromRow</a> (a, b)</td><td class="doc empty"> </td></tr><tr><td class="src">(<a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:FromRow">FromRow</a> a, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:FromRow">FromRow</a> b) =&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:FromRow">FromRow</a> (<a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t::.">:.</a> a b)</td><td class="doc empty"> </td></tr><tr><td class="src">(<a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> a, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> b, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> c) =&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:FromRow">FromRow</a> (a, b, c)</td><td class="doc empty"> </td></tr><tr><td class="src">(<a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> a, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> b, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> c, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> d) =&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:FromRow">FromRow</a> (a, b, c, d)</td><td class="doc empty"> </td></tr><tr><td class="src">(<a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> a, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> b, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> c, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> d, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> e) =&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:FromRow">FromRow</a> (a, b, c, d, e)</td><td class="doc empty"> </td></tr><tr><td class="src">(<a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> a, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> b, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> c, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> d, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> e, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> f) =&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:FromRow">FromRow</a> (a, b, c, d, e, f)</td><td class="doc empty"> </td></tr><tr><td class="src">(<a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> a, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> b, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> c, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> d, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> e, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> f, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> g) =&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:FromRow">FromRow</a> (a, b, c, d, e, f, g)</td><td class="doc empty"> </td></tr><tr><td class="src">(<a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> a, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> b, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> c, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> d, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> e, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> f, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> g, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> h) =&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:FromRow">FromRow</a> (a, b, c, d, e, f, g, h)</td><td class="doc empty"> </td></tr><tr><td class="src">(<a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> a, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> b, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> c, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> d, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> e, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> f, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> g, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> h, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> i) =&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:FromRow">FromRow</a> (a, b, c, d, e, f, g, h, i)</td><td class="doc empty"> </td></tr><tr><td class="src">(<a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> a, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> b, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> c, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> d, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> e, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> f, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> g, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> h, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> i, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> j) =&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:FromRow">FromRow</a> (a, b, c, d, e, f, g, h, i, j)</td><td class="doc empty"> </td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">newtype</span>  <a name="t:Only" class="def">Only</a> a </p><div class="doc"><p>A single-value &quot;collection&quot;.
</p><p>This is useful if you need to supply a single parameter to a SQL
 query, or extract a single column from a SQL result.
</p><p>Parameter example:
</p><pre>query c &quot;select x from scores where x &gt; ?&quot; (<code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Only">Only</a></code> (42::Int))</pre><p>Result example:
</p><pre>xs &lt;- query_ c &quot;select id from users&quot;
forM_ xs $ \(<code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Only">Only</a></code> id) -&gt; {- ... -}</pre></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Only" class="def">Only</a></td><td class="doc empty"> </td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:fromOnly" class="def">fromOnly</a> :: a</dt><dd class="doc empty"> </dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:Only" class="caption collapser" onclick="toggleSection('i:Only')">Instances</p><div id="section.i:Only" class="show"><table><tr><td class="src"><a href="../base-4.6.0.1/Control-Monad.html#t:Functor">Functor</a> <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Only">Only</a></td><td class="doc empty"> </td></tr><tr><td class="src"><a href="../base-4.6.0.1/Data-Typeable-Internal.html#t:Typeable1">Typeable1</a> <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Only">Only</a></td><td class="doc empty"> </td></tr><tr><td class="src"><a href="../base-4.6.0.1/Data-Eq.html#t:Eq">Eq</a> a =&gt; <a href="../base-4.6.0.1/Data-Eq.html#t:Eq">Eq</a> (<a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Only">Only</a> a)</td><td class="doc empty"> </td></tr><tr><td class="src"><a href="../base-4.6.0.1/Data-Ord.html#t:Ord">Ord</a> a =&gt; <a href="../base-4.6.0.1/Data-Ord.html#t:Ord">Ord</a> (<a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Only">Only</a> a)</td><td class="doc empty"> </td></tr><tr><td class="src"><a href="../base-4.6.0.1/Text-Read.html#t:Read">Read</a> a =&gt; <a href="../base-4.6.0.1/Text-Read.html#t:Read">Read</a> (<a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Only">Only</a> a)</td><td class="doc empty"> </td></tr><tr><td class="src"><a href="../base-4.6.0.1/Text-Show.html#t:Show">Show</a> a =&gt; <a href="../base-4.6.0.1/Text-Show.html#t:Show">Show</a> (<a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Only">Only</a> a)</td><td class="doc empty"> </td></tr><tr><td class="src"><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> a =&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:FromRow">FromRow</a> (<a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Only">Only</a> a)</td><td class="doc empty"> </td></tr><tr><td class="src"><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> a =&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:ToRow">ToRow</a> (<a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Only">Only</a> a)</td><td class="doc empty"> </td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span>  h <a name="t::." class="def">:.</a> t </p><div class="doc"><p>A composite type to parse your custom data structures without
 having to define dummy newtype wrappers every time.
</p><pre> instance FromRow MyData where ...
</pre><pre> instance FromRow MyData2 where ...
</pre><p>then I can do the following for free:
</p><pre>
 res &lt;- query' c <a href="../sqlite-simple-0.4.5.1/---.html">...</a>
 forM res $ \(MyData{..} :. MyData2{..}) -&gt; do
   ....
</pre></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src">h <a name="v::." class="def">:.</a> t</td><td class="doc empty"> </td></tr></table></div><div class="subs instances"><p id="control.i::." class="caption collapser" onclick="toggleSection('i::.')">Instances</p><div id="section.i::." class="show"><table><tr><td class="src"><a href="../base-4.6.0.1/Data-Typeable-Internal.html#t:Typeable2">Typeable2</a> <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t::.">:.</a></td><td class="doc empty"> </td></tr><tr><td class="src">(<a href="../base-4.6.0.1/Data-Eq.html#t:Eq">Eq</a> h, <a href="../base-4.6.0.1/Data-Eq.html#t:Eq">Eq</a> t) =&gt; <a href="../base-4.6.0.1/Data-Eq.html#t:Eq">Eq</a> (<a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t::.">:.</a> h t)</td><td class="doc empty"> </td></tr><tr><td class="src">(<a href="../base-4.6.0.1/Data-Ord.html#t:Ord">Ord</a> h, <a href="../base-4.6.0.1/Data-Ord.html#t:Ord">Ord</a> t) =&gt; <a href="../base-4.6.0.1/Data-Ord.html#t:Ord">Ord</a> (<a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t::.">:.</a> h t)</td><td class="doc empty"> </td></tr><tr><td class="src">(<a href="../base-4.6.0.1/Text-Read.html#t:Read">Read</a> h, <a href="../base-4.6.0.1/Text-Read.html#t:Read">Read</a> t) =&gt; <a href="../base-4.6.0.1/Text-Read.html#t:Read">Read</a> (<a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t::.">:.</a> h t)</td><td class="doc empty"> </td></tr><tr><td class="src">(<a href="../base-4.6.0.1/Text-Show.html#t:Show">Show</a> h, <a href="../base-4.6.0.1/Text-Show.html#t:Show">Show</a> t) =&gt; <a href="../base-4.6.0.1/Text-Show.html#t:Show">Show</a> (<a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t::.">:.</a> h t)</td><td class="doc empty"> </td></tr><tr><td class="src">(<a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:FromRow">FromRow</a> a, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:FromRow">FromRow</a> b) =&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:FromRow">FromRow</a> (<a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t::.">:.</a> a b)</td><td class="doc empty"> </td></tr><tr><td class="src">(<a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:ToRow">ToRow</a> a, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:ToRow">ToRow</a> b) =&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:ToRow">ToRow</a> (<a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t::.">:.</a> a b)</td><td class="doc empty"> </td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:SQLData" class="def">SQLData</a>  </p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:SQLInteger" class="def">SQLInteger</a> !<a href="../base-4.6.0.1/Data-Int.html#t:Int64">Int64</a></td><td class="doc empty"> </td></tr><tr><td class="src"><a name="v:SQLFloat" class="def">SQLFloat</a> !<a href="../base-4.6.0.1/Prelude.html#t:Double">Double</a></td><td class="doc empty"> </td></tr><tr><td class="src"><a name="v:SQLText" class="def">SQLText</a> !<a href="../text-1.1.0.0/Data-Text-Internal.html#t:Text">Text</a></td><td class="doc empty"> </td></tr><tr><td class="src"><a name="v:SQLBlob" class="def">SQLBlob</a> !<a href="../bytestring-0.10.0.2/Data-ByteString.html#t:ByteString">ByteString</a></td><td class="doc empty"> </td></tr><tr><td class="src"><a name="v:SQLNull" class="def">SQLNull</a></td><td class="doc empty"> </td></tr></table></div><div class="subs instances"><p id="control.i:SQLData" class="caption collapser" onclick="toggleSection('i:SQLData')">Instances</p><div id="section.i:SQLData" class="show"><table><tr><td class="src"><a href="../base-4.6.0.1/Data-Eq.html#t:Eq">Eq</a> <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:SQLData">SQLData</a></td><td class="doc empty"> </td></tr><tr><td class="src"><a href="../base-4.6.0.1/Text-Show.html#t:Show">Show</a> <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:SQLData">SQLData</a></td><td class="doc empty"> </td></tr><tr><td class="src"><a href="../base-4.6.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:SQLData">SQLData</a></td><td class="doc empty"> </td></tr><tr><td class="src"><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-ToField.html#t:ToField">ToField</a> <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:SQLData">SQLData</a></td><td class="doc empty"> </td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Statement" class="def">Statement</a>  </p><div class="doc"><p>An SQLite prepared statement.
</p></div></div><div class="top"><p class="src"><span class="keyword">newtype</span>  <a name="t:ColumnIndex" class="def">ColumnIndex</a>  </p><div class="doc"><p>Index of a column in a result set. Column indices start from 0.
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:ColumnIndex" class="def">ColumnIndex</a> <a href="../direct-sqlite-2.3.11/Database-SQLite3-Bindings-Types.html#t:ColumnIndex">ColumnIndex</a></td><td class="doc empty"> </td></tr></table></div><div class="subs instances"><p id="control.i:ColumnIndex" class="caption collapser" onclick="toggleSection('i:ColumnIndex')">Instances</p><div id="section.i:ColumnIndex" class="show"><table><tr><td class="src"><a href="../base-4.6.0.1/Prelude.html#t:Enum">Enum</a> <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:ColumnIndex">ColumnIndex</a></td><td class="doc empty"> </td></tr><tr><td class="src"><a href="../base-4.6.0.1/Data-Eq.html#t:Eq">Eq</a> <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:ColumnIndex">ColumnIndex</a></td><td class="doc empty"> </td></tr><tr><td class="src"><a href="../base-4.6.0.1/Prelude.html#t:Integral">Integral</a> <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:ColumnIndex">ColumnIndex</a></td><td class="doc empty"> </td></tr><tr><td class="src"><a href="../base-4.6.0.1/Prelude.html#t:Num">Num</a> <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:ColumnIndex">ColumnIndex</a></td><td class="doc empty"> </td></tr><tr><td class="src"><a href="../base-4.6.0.1/Data-Ord.html#t:Ord">Ord</a> <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:ColumnIndex">ColumnIndex</a></td><td class="doc empty"> </td></tr><tr><td class="src"><a href="../base-4.6.0.1/Prelude.html#t:Real">Real</a> <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:ColumnIndex">ColumnIndex</a></td><td class="doc empty"> </td></tr></table></div></div></div><h1 id="g:10">Connections
</h1><div class="top"><p class="src"><a name="v:open" class="def">open</a> :: <a href="../base-4.6.0.1/Data-String.html#t:String">String</a> -&gt; <a href="../base-4.6.0.1/System-IO.html#t:IO">IO</a> <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Connection">Connection</a></p><div class="doc"><p>Open a database connection to a given file.  Will throw an
 exception if it cannot connect.
</p><p>Every <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#v:open">open</a></code> must be closed with a call to <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#v:close">close</a></code>.
</p><p>If you specify &quot;:memory:&quot; or an empty string as the input filename,
 then a private, temporary in-memory database is created for the
 connection.  This database will vanish when you close the
 connection.
</p></div></div><div class="top"><p class="src"><a name="v:close" class="def">close</a> :: <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Connection">Connection</a> -&gt; <a href="../base-4.6.0.1/System-IO.html#t:IO">IO</a> ()</p><div class="doc"><p>Close a database connection.
</p></div></div><div class="top"><p class="src"><a name="v:withConnection" class="def">withConnection</a> ::  <a href="../base-4.6.0.1/Data-String.html#t:String">String</a> -&gt; (<a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Connection">Connection</a> -&gt; <a href="../base-4.6.0.1/System-IO.html#t:IO">IO</a> a) -&gt; <a href="../base-4.6.0.1/System-IO.html#t:IO">IO</a> a</p><div class="doc"><p>Opens a database connection, executes an action using this connection, and
 closes the connection, even in the presence of exceptions.
</p></div></div><div class="top"><p class="src"><a name="v:setTrace" class="def">setTrace</a> :: <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Connection">Connection</a> -&gt; <a href="../base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="../text-1.1.0.0/Data-Text-Internal.html#t:Text">Text</a> -&gt; <a href="../base-4.6.0.1/System-IO.html#t:IO">IO</a> ()) -&gt; <a href="../base-4.6.0.1/System-IO.html#t:IO">IO</a> ()</p><div class="doc"><p><a href="http://www.sqlite.org/c3ref/profile.html">http://www.sqlite.org/c3ref/profile.html</a>
</p><p>Enable/disable tracing of SQL execution.  Tracing can be disabled
 by setting <code><a href="../base-4.6.0.1/Data-Maybe.html#v:Nothing">Nothing</a></code> as the logger callback.
</p><p>Warning: If the logger callback throws an exception, your whole
 program may crash.  Enable only for debugging!
</p></div></div><h1 id="g:11">Queries that return results
</h1><div class="top"><p class="src"><a name="v:query" class="def">query</a> :: (<a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:ToRow">ToRow</a> q, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:FromRow">FromRow</a> r) =&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Connection">Connection</a> -&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Query">Query</a> -&gt; q -&gt; <a href="../base-4.6.0.1/System-IO.html#t:IO">IO</a> [r]</p><div class="doc"><p>Perform a <code>SELECT</code> or other SQL query that is expected to return
 results. All results are retrieved and converted before this
 function returns.
</p><p>When processing large results, this function will consume a lot of
 client-side memory.  Consider using <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#v:fold">fold</a></code> instead.
</p><p>Exceptions that may be thrown:
</p><ul><li> <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:FormatError">FormatError</a></code>: the query string mismatched with given arguments.
</li><li> <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:ResultError">ResultError</a></code>: result conversion failed.
</li></ul></div></div><div class="top"><p class="src"><a name="v:query_" class="def">query_</a> :: <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:FromRow">FromRow</a> r =&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Connection">Connection</a> -&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Query">Query</a> -&gt; <a href="../base-4.6.0.1/System-IO.html#t:IO">IO</a> [r]</p><div class="doc"><p>A version of <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#v:query">query</a></code> that does not perform query substitution.
</p></div></div><div class="top"><p class="src"><a name="v:lastInsertRowId" class="def">lastInsertRowId</a> :: <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Connection">Connection</a> -&gt; <a href="../base-4.6.0.1/System-IO.html#t:IO">IO</a> <a href="../base-4.6.0.1/Data-Int.html#t:Int64">Int64</a></p><div class="doc"><p>Returns the rowid of the most recent successful INSERT on the
 given database connection.
</p><p>See also <a href="http://www.sqlite.org/c3ref/last_insert_rowid.html">http://www.sqlite.org/c3ref/last_insert_rowid.html</a>.
</p></div></div><h1 id="g:12">Queries that stream results
</h1><div class="top"><p class="src"><a name="v:fold" class="def">fold</a> :: (<a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:FromRow">FromRow</a> row, <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:ToRow">ToRow</a> params) =&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Connection">Connection</a> -&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Query">Query</a> -&gt; params -&gt; a -&gt; (a -&gt; row -&gt; <a href="../base-4.6.0.1/System-IO.html#t:IO">IO</a> a) -&gt; <a href="../base-4.6.0.1/System-IO.html#t:IO">IO</a> a</p><div class="doc"><p>Perform a <code>SELECT</code> or other SQL query that is expected to return results.
 Results are converted and fed into the <code>action</code> callback as they are being
 retrieved from the database.
</p><p>This allows gives the possibility of processing results in constant space
 (for instance writing them to disk).
</p><p>Exceptions that may be thrown:
</p><ul><li> <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:FormatError">FormatError</a></code>: the query string mismatched with given arguments.
</li><li> <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:ResultError">ResultError</a></code>: result conversion failed.
</li></ul></div></div><div class="top"><p class="src"><a name="v:fold_" class="def">fold_</a> :: <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:FromRow">FromRow</a> row =&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Connection">Connection</a> -&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Query">Query</a> -&gt; a -&gt; (a -&gt; row -&gt; <a href="../base-4.6.0.1/System-IO.html#t:IO">IO</a> a) -&gt; <a href="../base-4.6.0.1/System-IO.html#t:IO">IO</a> a</p><div class="doc"><p>A version of <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#v:fold">fold</a></code> which does not perform parameter substitution.
</p></div></div><h1 id="g:13">Statements that do not return results
</h1><div class="top"><p class="src"><a name="v:execute" class="def">execute</a> :: <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:ToRow">ToRow</a> q =&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Connection">Connection</a> -&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Query">Query</a> -&gt; q -&gt; <a href="../base-4.6.0.1/System-IO.html#t:IO">IO</a> ()</p><div class="doc"><p>Execute an <code>INSERT</code>, <code>UPDATE</code>, or other SQL query that is not
 expected to return results.
</p><p>Throws <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:FormatError">FormatError</a></code> if the query could not be formatted correctly.
</p></div></div><div class="top"><p class="src"><a name="v:execute_" class="def">execute_</a> :: <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Connection">Connection</a> -&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Query">Query</a> -&gt; <a href="../base-4.6.0.1/System-IO.html#t:IO">IO</a> ()</p><div class="doc"><p>A version of <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#v:execute">execute</a></code> that does not perform query substitution.
</p></div></div><div class="top"><p class="src"><a name="v:field" class="def">field</a> :: <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-FromField.html#t:FromField">FromField</a> a =&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple-Internal.html#t:RowParser">RowParser</a> a</p></div><h1 id="g:14">Low-level statement API for stream access and prepared statements
</h1><div class="top"><p class="src"><a name="v:openStatement" class="def">openStatement</a> :: <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Connection">Connection</a> -&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Query">Query</a> -&gt; <a href="../base-4.6.0.1/System-IO.html#t:IO">IO</a> <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Statement">Statement</a></p><div class="doc"><p>Opens a prepared statement. A prepared statement must always be closed with
 a corresponding call to <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#v:closeStatement">closeStatement</a></code> before closing the connection. Use
 <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#v:nextRow">nextRow</a></code> to iterate on the values returned. Once <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#v:nextRow">nextRow</a></code> returns
 <code><a href="../base-4.6.0.1/Data-Maybe.html#v:Nothing">Nothing</a></code>, you need to invoke <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#v:reset">reset</a></code> before reexecuting the statement again
 with <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#v:nextRow">nextRow</a></code>.
</p></div></div><div class="top"><p class="src"><a name="v:closeStatement" class="def">closeStatement</a> :: <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Statement">Statement</a> -&gt; <a href="../base-4.6.0.1/System-IO.html#t:IO">IO</a> ()</p><div class="doc"><p>Closes a prepared statement.
</p></div></div><div class="top"><p class="src"><a name="v:withStatement" class="def">withStatement</a> ::  <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Connection">Connection</a> -&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Query">Query</a> -&gt; (<a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Statement">Statement</a> -&gt; <a href="../base-4.6.0.1/System-IO.html#t:IO">IO</a> a) -&gt; <a href="../base-4.6.0.1/System-IO.html#t:IO">IO</a> a</p><div class="doc"><p>Opens a prepared statement, executes an action using this statement, and
 closes the statement, even in the presence of exceptions.
</p></div></div><div class="top"><p class="src"><a name="v:bind" class="def">bind</a> :: <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:ToRow">ToRow</a> params =&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Statement">Statement</a> -&gt; params -&gt; <a href="../base-4.6.0.1/System-IO.html#t:IO">IO</a> ()</p><div class="doc"><p>Binds parameters to a prepared statement. Once <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#v:nextRow">nextRow</a></code> returns <code><a href="../base-4.6.0.1/Data-Maybe.html#v:Nothing">Nothing</a></code>,
 the statement must be reset with the <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#v:reset">reset</a></code> function before it can be
 executed again by calling <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#v:nextRow">nextRow</a></code>.
</p></div></div><div class="top"><p class="src"><a name="v:reset" class="def">reset</a> :: <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Statement">Statement</a> -&gt; <a href="../base-4.6.0.1/System-IO.html#t:IO">IO</a> ()</p><div class="doc"><p>Resets a statement. This does not reset bound parameters, if any, but
 allows the statement to be reexecuted again by invoking <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#v:nextRow">nextRow</a></code>.
</p></div></div><div class="top"><p class="src"><a name="v:columnName" class="def">columnName</a> :: <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Statement">Statement</a> -&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:ColumnIndex">ColumnIndex</a> -&gt; <a href="../base-4.6.0.1/System-IO.html#t:IO">IO</a> <a href="../text-1.1.0.0/Data-Text-Internal.html#t:Text">Text</a></p><div class="doc"><p>Return the name of a a particular column in the result set of a
 <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Statement">Statement</a></code>.  Throws an <code><a href="../base-4.6.0.1/Control-Exception-Base.html#t:ArrayException">ArrayException</a></code> if the colum index is out
 of bounds.
</p><p><a href="http://www.sqlite.org/c3ref/column_name.html">http://www.sqlite.org/c3ref/column_name.html</a>
</p></div></div><div class="top"><p class="src"><a name="v:withBind" class="def">withBind</a> :: <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:ToRow">ToRow</a> params =&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Statement">Statement</a> -&gt; params -&gt; <a href="../base-4.6.0.1/System-IO.html#t:IO">IO</a> a -&gt; <a href="../base-4.6.0.1/System-IO.html#t:IO">IO</a> a</p><div class="doc"><p>Binds parameters to a prepared statement, and <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#v:reset">reset</a></code>s the statement when
 the callback completes, even in the presence of exceptions.
</p><p>Use <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#v:withBind">withBind</a></code> to reuse prepared statements.  Because it <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#v:reset">reset</a></code>s the
 statement <em>after</em> each usage, it avoids a pitfall involving implicit
 transactions.  SQLite creates an implicit transaction if you don't say
 <code>BEGIN</code> explicitly, and does not commit it until all active statements are
 finished with either <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#v:reset">reset</a></code> or <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#v:closeStatement">closeStatement</a></code>.
</p></div></div><div class="top"><p class="src"><a name="v:nextRow" class="def">nextRow</a> :: <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:FromRow">FromRow</a> r =&gt; <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Statement">Statement</a> -&gt; <a href="../base-4.6.0.1/System-IO.html#t:IO">IO</a> (<a href="../base-4.6.0.1/Data-Maybe.html#t:Maybe">Maybe</a> r)</p><div class="doc"><p>Extracts the next row from the prepared statement.
</p></div></div><h2 id="g:15">Exceptions
</h2><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:FormatError" class="def">FormatError</a>  </p><div class="doc"><p>Exception thrown if a <code><a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:Query">Query</a></code> was malformed.
 This may occur if the number of '<code>?</code>' characters in the query
 string does not match the number of parameters provided.
</p></div><div class="subs instances"><p id="control.i:FormatError" class="caption collapser" onclick="toggleSection('i:FormatError')">Instances</p><div id="section.i:FormatError" class="show"><table><tr><td class="src"><a href="../base-4.6.0.1/Data-Eq.html#t:Eq">Eq</a> <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:FormatError">FormatError</a></td><td class="doc empty"> </td></tr><tr><td class="src"><a href="../base-4.6.0.1/Text-Show.html#t:Show">Show</a> <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:FormatError">FormatError</a></td><td class="doc empty"> </td></tr><tr><td class="src"><a href="../base-4.6.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:FormatError">FormatError</a></td><td class="doc empty"> </td></tr><tr><td class="src"><a href="../base-4.6.0.1/Control-Exception-Base.html#t:Exception">Exception</a> <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:FormatError">FormatError</a></td><td class="doc empty"> </td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:ResultError" class="def">ResultError</a>  </p><div class="doc"><p>Exception thrown if conversion from a SQL value to a Haskell
 value fails.
</p></div><div class="subs instances"><p id="control.i:ResultError" class="caption collapser" onclick="toggleSection('i:ResultError')">Instances</p><div id="section.i:ResultError" class="show"><table><tr><td class="src"><a href="../base-4.6.0.1/Data-Eq.html#t:Eq">Eq</a> <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:ResultError">ResultError</a></td><td class="doc empty"> </td></tr><tr><td class="src"><a href="../base-4.6.0.1/Text-Show.html#t:Show">Show</a> <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:ResultError">ResultError</a></td><td class="doc empty"> </td></tr><tr><td class="src"><a href="../base-4.6.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:ResultError">ResultError</a></td><td class="doc empty"> </td></tr><tr><td class="src"><a href="../base-4.6.0.1/Control-Exception-Base.html#t:Exception">Exception</a> <a href="../sqlite-simple-0.4.5.1/Database-SQLite-Simple.html#t:ResultError">ResultError</a></td><td class="doc empty"> </td></tr></table></div></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.13.2.1</p></div></body></html>