<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<!-- Generated by HsColour, http://code.haskell.org/~malcolm/hscolour/ -->
<title>GHC/Err.lhs</title>
<link type="text/css" rel="stylesheet" href="hscolour.css"></link>
</head>
<body>
\begin{code}
<pre><a name="line-1"></a><span class="hs-comment">{-# LANGUAGE Trustworthy #-}</span>
<a name="line-2"></a><span class="hs-comment">{-# LANGUAGE CPP, NoImplicitPrelude #-}</span>
<a name="line-3"></a><span class="hs-comment">{-# OPTIONS_HADDOCK hide #-}</span>
<a name="line-4"></a>
<a name="line-5"></a><span class="hs-comment">-----------------------------------------------------------------------------</span>
<a name="line-6"></a><span class="hs-comment">-- |</span>
<a name="line-7"></a><span class="hs-comment">-- Module      :  GHC.Err</span>
<a name="line-8"></a><span class="hs-comment">-- Copyright   :  (c) The University of Glasgow, 1994-2002</span>
<a name="line-9"></a><span class="hs-comment">-- License     :  see libraries/base/LICENSE</span>
<a name="line-10"></a><span class="hs-comment">-- </span>
<a name="line-11"></a><span class="hs-comment">-- Maintainer  :  cvs-ghc@haskell.org</span>
<a name="line-12"></a><span class="hs-comment">-- Stability   :  internal</span>
<a name="line-13"></a><span class="hs-comment">-- Portability :  non-portable (GHC extensions)</span>
<a name="line-14"></a><span class="hs-comment">--</span>
<a name="line-15"></a><span class="hs-comment">-- The &quot;GHC.Err&quot; module defines the code for the wired-in error functions,</span>
<a name="line-16"></a><span class="hs-comment">-- which have a special type in the compiler (with \&quot;open tyvars\&quot;).</span>
<a name="line-17"></a><span class="hs-comment">-- </span>
<a name="line-18"></a><span class="hs-comment">-- We cannot define these functions in a module where they might be used</span>
<a name="line-19"></a><span class="hs-comment">-- (e.g., &quot;GHC.Base&quot;), because the magical wired-in type will get confused</span>
<a name="line-20"></a><span class="hs-comment">-- with what the typechecker figures out.</span>
<a name="line-21"></a><span class="hs-comment">-- </span>
<a name="line-22"></a><span class="hs-comment">-----------------------------------------------------------------------------</span>
<a name="line-23"></a>
<a name="line-24"></a><span class="hs-comment">-- #hide</span>
<a name="line-25"></a><span class="hs-keyword">module</span> <span class="hs-conid">GHC</span><span class="hs-varop">.</span><span class="hs-conid">Err</span>
<a name="line-26"></a>       <span class="hs-layout">(</span>
<a name="line-27"></a>         <span class="hs-varid">absentErr</span>                 <span class="hs-comment">-- :: a</span>
<a name="line-28"></a>       <span class="hs-layout">,</span> <span class="hs-varid">divZeroError</span>              <span class="hs-comment">-- :: a</span>
<a name="line-29"></a>       <span class="hs-layout">,</span> <span class="hs-varid">ratioZeroDenominatorError</span> <span class="hs-comment">-- :: a</span>
<a name="line-30"></a>       <span class="hs-layout">,</span> <span class="hs-varid">overflowError</span>             <span class="hs-comment">-- :: a</span>
<a name="line-31"></a>
<a name="line-32"></a>       <span class="hs-layout">,</span> <span class="hs-varid">error</span>                     <span class="hs-comment">-- :: String -&gt; a</span>
<a name="line-33"></a>
<a name="line-34"></a>       <span class="hs-layout">,</span> <span class="hs-varid">undefined</span>                 <span class="hs-comment">-- :: a</span>
<a name="line-35"></a>       <span class="hs-layout">)</span> <span class="hs-keyword">where</span>
<a name="line-36"></a>
<a name="line-37"></a><span class="hs-keyword">import</span> <span class="hs-conid">GHC</span><span class="hs-varop">.</span><span class="hs-conid">Types</span>
<a name="line-38"></a><span class="hs-keyword">import</span> <span class="hs-conid">GHC</span><span class="hs-varop">.</span><span class="hs-conid">Exception</span>
</pre>\end{code}

%*********************************************************
%*                                                      *
\subsection{Error-ish functions}
%*                                                      *
%*********************************************************

\begin{code}
<pre><a name="line-1"></a><a name="error"></a><span class="hs-comment">-- | 'error' stops execution and displays an error message.</span>
<a name="line-2"></a><span class="hs-definition">error</span> <span class="hs-keyglyph">::</span> <span class="hs-keyglyph">[</span><span class="hs-conid">Char</span><span class="hs-keyglyph">]</span> <span class="hs-keyglyph">-&gt;</span> <span class="hs-varid">a</span>
<a name="line-3"></a><span class="hs-definition">error</span> <span class="hs-varid">s</span> <span class="hs-keyglyph">=</span> <span class="hs-varid">throw</span> <span class="hs-layout">(</span><span class="hs-conid">ErrorCall</span> <span class="hs-varid">s</span><span class="hs-layout">)</span>
<a name="line-4"></a>
<a name="line-5"></a><span class="hs-comment">-- | A special case of 'error'.</span>
<a name="line-6"></a><span class="hs-comment">-- It is expected that compilers will recognize this and insert error</span>
<a name="line-7"></a><span class="hs-comment">-- messages which are more appropriate to the context in which 'undefined'</span>
<a name="line-8"></a><span class="hs-comment">-- appears. </span>
<a name="line-9"></a>
<a name="line-10"></a><a name="undefined"></a><span class="hs-definition">undefined</span> <span class="hs-keyglyph">::</span> <span class="hs-varid">a</span>
<a name="line-11"></a><span class="hs-definition">undefined</span> <span class="hs-keyglyph">=</span>  <span class="hs-varid">error</span> <span class="hs-str">&quot;Prelude.undefined&quot;</span>
</pre>\end{code}

%*********************************************************
%*                                                       *
\subsection{Compiler generated errors + local utils}
%*                                                       *
%*********************************************************

Used for compiler-generated error message;
encoding saves bytes of string junk.

\begin{code}
<pre><a name="line-1"></a><a name="absentErr"></a><span class="hs-definition">absentErr</span> <span class="hs-keyglyph">::</span> <span class="hs-varid">a</span>
<a name="line-2"></a>
<a name="line-3"></a><span class="hs-definition">absentErr</span> <span class="hs-keyglyph">=</span> <span class="hs-varid">error</span> <span class="hs-str">&quot;Oops! The program has entered an `absent' argument!\n&quot;</span>
</pre>\end{code}

Divide by zero and arithmetic overflow.
We put them here because they are needed relatively early
in the libraries before the Exception type has been defined yet.

\begin{code}
<pre><a name="line-1"></a><a name="divZeroError"></a><span class="hs-comment">{-# NOINLINE divZeroError #-}</span>
<a name="line-2"></a><span class="hs-definition">divZeroError</span> <span class="hs-keyglyph">::</span> <span class="hs-varid">a</span>
<a name="line-3"></a><span class="hs-definition">divZeroError</span> <span class="hs-keyglyph">=</span> <span class="hs-varid">throw</span> <span class="hs-conid">DivideByZero</span>
<a name="line-4"></a>
<a name="line-5"></a><a name="ratioZeroDenominatorError"></a><span class="hs-comment">{-# NOINLINE ratioZeroDenominatorError #-}</span>
<a name="line-6"></a><span class="hs-definition">ratioZeroDenominatorError</span> <span class="hs-keyglyph">::</span> <span class="hs-varid">a</span>
<a name="line-7"></a><span class="hs-definition">ratioZeroDenominatorError</span> <span class="hs-keyglyph">=</span> <span class="hs-varid">throw</span> <span class="hs-conid">RatioZeroDenominator</span>
<a name="line-8"></a>
<a name="line-9"></a><a name="overflowError"></a><span class="hs-comment">{-# NOINLINE overflowError #-}</span>
<a name="line-10"></a><span class="hs-definition">overflowError</span> <span class="hs-keyglyph">::</span> <span class="hs-varid">a</span>
<a name="line-11"></a><span class="hs-definition">overflowError</span> <span class="hs-keyglyph">=</span> <span class="hs-varid">throw</span> <span class="hs-conid">Overflow</span>
</pre>\end{code}

</body>
</html>
